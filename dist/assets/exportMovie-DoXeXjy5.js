(function(){"use strict";const u=async(h,a,n)=>{const t=a.getContext("2d",{willReadFrequently:!0});t.clearRect(0,0,a.width,a.value.height),t.font="16px Saitamaar",t.letterSpacing=0;const s=18;n.style.display="inline-block";let i=0,l=0;for(let e=0;e<editLogs.length;e++){const r=editLogs[e].value;r!=null&&(t.font="16px Saitamaar",t.letterSpacing=0,n.innerHTML=r,i=Math.max(i,n.scrollHeight),l=Math.max(l,n.scrollWidth))}a.height=i,a.width=l;var g=new GIF({workers:2,quality:10,width:l,height:i});for(let e=0;e<editLogs.length;e++){const r=editLogs[e].value;if(t.clearRect(0,0,l.value,i.value),t.font="16px Saitamaar",t.letterSpacing=0,r!=null){const d=r.split(`
`);t.fillStyle="white",t.fillRect(0,0,l,i),t.fillStyle="black";for(let c=0;c<d.length;c++)t.fillText(d[c],0,(c+.5)*s);const f=a.value.toDataURL("image/png"),o=new Image;o.height=i.value,o.width=l.value,o.src=f,await g.addFrame(o,{delay:1})}}g.on("finished",function(e){return e}),g.render()};onmessage=async function(h){const{currentData:a,canvasElem:n,sizeRefElem:t}=h.data,s=await u(a,n,t);postMessage(s)}})();
